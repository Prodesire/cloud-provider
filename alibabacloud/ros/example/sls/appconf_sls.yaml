apiVersion: core.oam.dev/v1alpha1
kind: ApplicationConfiguration
metadata:
  name: sls-demo
spec:
  components:
    - componentName: sls-project
      instanceName: sls-project
      traits:
        - name: DeletionPolicy
          properties:
            policy: "Delete"
    - componentName: sls-logstore
      instanceName: sls-logstore
      parameterValues:
        - name: ProjectName
          from:
            component: sls-project
            fieldPath: ".status.Name"
      traits:
        - name: DeletionPolicy
          properties:
            policy: "Delete"
    - componentName: sls-index
      instanceName: sls-index
      parameterValues:
        - name: ProjectName
          from:
            component: sls-project
            fieldPath: ".status.Name"
        - name: LogstoreName
          from:
            component: sls-logstore
            fieldPath: ".status.LogstoreName"
      traits:
        - name: DeletionPolicy
          properties:
            policy: "Delete"

#  scopes:
#    - name: resource-identity
#      type: oam.alibaba.dev/v1.ResourceIdentity
#      properties:
#        appName: {fromWhichApp}
#        aliyunAccountUid: {userWhoCreatedResources}
#        regionId: {regionWhereCreateResources}